<h1>Facebook Users</h1>
<table mat-table [dataSource]="userTable" matSort class="mat-elevation-z8">
  <ng-container matColumnDef="img">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Image. </th>
    <td mat-cell *matCellDef="let user">
      <div *ngIf="(user.img !== null) && (user.img !== 'failed')">
        <img class="profile-pic" [src]="user.img">
      </div>
      <div *ngIf="user.img === 'failed'">
        <img class="profile-pic" src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png">
      </div>
    </td>
  </ng-container>

  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header> Name. </th>
    <td mat-cell *matCellDef="let user">
      <div *ngIf="user.name !== null">
          {{user.name}} 
      </div>
    </td>
  </ng-container>

  <ng-container matColumnDef="block">
    <th mat-header-cell *matHeaderCellDef> Block. </th>
    <td mat-cell *matCellDef="let user">
      <button *ngIf="user.fb_quest_id !== 10" 
              mat-raised-button color="primary"
              (click)="block(user.id)">
        Block
      </button>
      <button *ngIf="user.fb_quest_id === 10"
              mat-raised-button color="warn"
              (click)="unblock(user.id)">
        Un-block
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="tableHeader"></tr>
  <tr mat-row *matRowDef="let row; columns: tableHeader;"></tr>
</table>